/*! jsErrorLogger (v0.1.0),
 Advanced javascript error logger ,
 by Ivan Shornikov <paraboom@gmail.com>
 Tue Oct 14 2014 */
(function(){var r;r={},null==window.modula&&(window.modula={"export":function(n,t){return r[n]=t},require:function(n){var t;if(t=r[n])return t;throw"Module '"+n+"' not found."}})}).call(this),function(){var __slice=[].slice;window.JsErrorLogger=function(){function _Class(r){r.errorProcessFn&&_.isFunction(r.errorProcessFn)&&(this.errorProcessFn=r.errorProcessFn),window.onerror=_.bind(this.onError,this)}var LOG_LEVELS,LOG_LEVEL_ALIASES,VISITED_PAGES_LENGTH;return LOG_LEVELS="info warn error".split(" "),LOG_LEVEL_ALIASES={log:"info"},VISITED_PAGES_LENGTH=5,_Class.prototype.addLogger=function(r){var n,t,o,e;for(o=0,e=LOG_LEVELS.length;e>o;o++)t=LOG_LEVELS[o],r[t]=function(r){return echo[t](r)};for(n in LOG_LEVEL_ALIASES)t=LOG_LEVEL_ALIASES[n],r[n]=r[t];return r},_Class.prototype.onError=function(r,n,t,o,e){var a,s,i;return this.rethrow?this.rethrow=!1:(i=0===t,s=_.isObject(r),a=null!=e,i||(a?this._catch(e):s?this._catch({message:"Unknown error",data:r}):this._catch({message:"Global error: "+r+" @ "+n+":"+t+":"+o}))),!1},_Class.prototype.processError=function(r){return this.errorProcessFn(r)},_Class.prototype.catchWrap=function(r,n){var t,o,e,a;return n?(o=r,e=o[n],o[n]=this.catchWrap(e)):(t=r,a=this,function(){var r,n;r=1<=arguments.length?__slice.call(arguments,0):[];try{return t.apply(this,r)}catch(o){return n=o,a._catch(n)}})},_Class.prototype.catchWrapTimer=function(obj,fnName){var originFn,that;return originFn=obj[fnName],that=this,obj[fnName]=function(){var args,fn,wrappedFn;return fn=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],wrappedFn=function(){var e;try{return"string"==typeof fn?eval(fn):fn.apply(this,arguments)}catch(_error){return e=_error,that._catch(e)}},originFn.call.apply(originFn,[window,wrappedFn].concat(__slice.call(args)))}},_Class.prototype._catch=function(r){return this.processError(r)},_Class}(),modula["export"]("js_error_logger",JsErrorLogger)}.call(this);