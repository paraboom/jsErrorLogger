!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AsyncFn=t():r.AsyncFn=t()}(this,function(){return function(r){function t(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return r[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=r,t.c=n,t.p="",t(0)}([function(r,t,n){r.exports=n(1)},function(module,exports,__webpack_require__){var JsErrorLogger,isObject,printStackTrace,slice=[].slice;printStackTrace=__webpack_require__(2),isObject=function(r){var t;return t=typeof r,"function"===t||"object"===t&&!!r},module.exports=JsErrorLogger=function(){function JsErrorLogger(r){this.errorProcessFn=r.errorProcessFn,window.onerror=this.onError.bind(this)}return JsErrorLogger.prototype.onError=function(r,t,n,e,o){var c,s,a;return this.rethrow?this.rethrow=!1:(a=0===n,s=isObject(r),c=null!=o,a||(c?this._catch(o):s?this._catch({message:"Unknown error",data:r}):this._catch({message:"Global error: "+r+" @ "+t+":"+n+":"+e}))),!1},JsErrorLogger.prototype.processError=function(r){return"function"==typeof this.errorProcessFn?this.errorProcessFn(r,this._errorData(r)):void 0},JsErrorLogger.prototype.catchWrap=function(r,t){var n,e,o,c;return t?(e=r,o=e[t],e[t]=this.catchWrap(o)):(n=r,c=this,function(){var r,t;r=1<=arguments.length?slice.call(arguments,0):[];try{return n.apply(this,r)}catch(r){throw t=r}})},JsErrorLogger.prototype.catchWrapTimer=function(obj,fnName){var originFn,that;return originFn=obj[fnName],that=this,obj[fnName]=function(){var args,fn,wrappedFn;return fn=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[],wrappedFn=function(){var e;try{return"string"==typeof fn?eval(fn):fn.apply(this,arguments)}catch(r){throw e=r}},originFn.call.apply(originFn,[window,wrappedFn].concat(slice.call(args)))}},JsErrorLogger.prototype._stacktrace=function(r){return printStackTrace({e:r})},JsErrorLogger.prototype._stacktraceDump=function(r){return JSON.stringify(this._stacktrace(r))},JsErrorLogger.prototype._userAgent=function(){return navigator.userAgent},JsErrorLogger.prototype._errorData=function(r){return{name:r.name,level:"error",msg:r.message,data:r.data,stacktrace:this._stacktraceDump(r)}},JsErrorLogger.prototype._catch=function(r){return this.processError(r)},JsErrorLogger}()},function(r,t,n){!function(t,n){r.exports=n()}(this,function(){function r(t){t=t||{guess:!0};var n=t.e||null,e=!!t.guess,o=t.mode||null,c=new r.implementation,s=c.run(n,o);return e?c.guessAnonymousFunctions(s):s}return r.implementation=function(){},r.implementation.prototype={run:function(r,t){return r=r||this.createException(),t=t||this.mode(r),"other"===t?this.other(arguments.callee):this[t](r)},createException:function(){try{this.undef()}catch(r){return r}},mode:function(r){return"undefined"!=typeof window&&window.navigator.userAgent.indexOf("PhantomJS")>-1?"phantomjs":r.arguments&&r.stack?"chrome":r.stack&&r.sourceURL?"safari":r.stack&&r.number?"ie":r.stack&&r.fileName?"firefox":r.message&&r["opera#sourceloc"]?r.stacktrace?r.message.indexOf("\n")>-1&&r.message.split("\n").length>r.stacktrace.split("\n").length?"opera9":"opera10a":"opera9":r.message&&r.stack&&r.stacktrace?r.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":r.stack&&!r.fileName?"chrome":"other"},instrumentFunction:function(t,n,e){t=t||window;var o=t[n];t[n]=function(){return e.call(this,r().slice(4)),t[n]._instrumented.apply(this,arguments)},t[n]._instrumented=o},deinstrumentFunction:function(r,t){r[t].constructor===Function&&r[t]._instrumented&&r[t]._instrumented.constructor===Function&&(r[t]=r[t]._instrumented)},chrome:function(r){return(r.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(r){return r.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(r){return r.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(r){return r.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(r){for(var t="{anonymous}",n=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,e=r.stacktrace.split("\n"),o=[],c=0,s=e.length;c<s;c+=2){var a=n.exec(e[c]);if(a){var i=a[4]+":"+a[1]+":"+a[2],u=a[3]||"global code";u=u.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,t),o.push(u+"@"+i+" -- "+e[c+1].replace(/^\s+/,""))}}return o},opera10b:function(r){for(var t=/^(.*)@(.+):(\d+)$/,n=r.stacktrace.split("\n"),e=[],o=0,c=n.length;o<c;o++){var s=t.exec(n[o]);if(s){var a=s[1]?s[1]+"()":"global code";e.push(a+"@"+s[2]+":"+s[3])}}return e},opera10a:function(r){for(var t="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,e=r.stacktrace.split("\n"),o=[],c=0,s=e.length;c<s;c+=2){var a=n.exec(e[c]);if(a){var i=a[3]||t;o.push(i+"()@"+a[2]+":"+a[1]+" -- "+e[c+1].replace(/^\s+/,""))}}return o},opera9:function(r){for(var t="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)/i,e=r.message.split("\n"),o=[],c=2,s=e.length;c<s;c+=2){var a=n.exec(e[c]);a&&o.push(t+"()@"+a[2]+":"+a[1]+" -- "+e[c+1].replace(/^\s+/,""))}return o},phantomjs:function(r){for(var t="{anonymous}",n=/(\S+) \((\S+)\)/i,e=r.stack.split("\n"),o=[],c=1,s=e.length;c<s;c++){e[c]=e[c].replace(/^\s+at\s+/gm,"");var a=n.exec(e[c]);a?o.push(a[1]+"()@"+a[2]):o.push(t+"()@"+e[c])}return o},other:function(r){for(var t,n,e="{anonymous}",o=/function(?:\s+([\w$]+))?\s*\(/,c=[],s=10,a=Array.prototype.slice;r&&c.length<s;){t=o.test(r.toString())?RegExp.$1||e:e;try{n=a.call(r.arguments||[])}catch(r){n=["Cannot access arguments: "+r]}c[c.length]=t+"("+this.stringifyArguments(n)+")";try{r=r.caller}catch(r){c[c.length]="Cannot access caller: "+r;break}}return c},stringifyArguments:function(r){for(var t=[],n=Array.prototype.slice,e=0;e<r.length;++e){var o=r[e];void 0===o?t[e]="undefined":null===o?t[e]="null":o.constructor&&(o.constructor===Array?o.length<3?t[e]="["+this.stringifyArguments(o)+"]":t[e]="["+this.stringifyArguments(n.call(o,0,1))+"..."+this.stringifyArguments(n.call(o,-1))+"]":o.constructor===Object?t[e]="#object":o.constructor===Function?t[e]="#function":o.constructor===String?t[e]='"'+o+'"':o.constructor===Number?t[e]=o:t[e]="?")}return t.join(",")},sourceCache:{},ajax:function(r){var t=this.createXMLHTTPObject();if(t)try{return t.open("GET",r,!1),t.send(null),t.responseText}catch(r){}return""},createXMLHTTPObject:function(){for(var r,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;n<t.length;n++)try{return r=t[n](),this.createXMLHTTPObject=t[n],r}catch(r){}},isSameDomain:function(r){return"undefined"!=typeof location&&r.indexOf(location.hostname)!==-1},getSource:function(r){return r in this.sourceCache||(this.sourceCache[r]=this.ajax(r).split("\n")),this.sourceCache[r]},guessAnonymousFunctions:function(r){for(var t=0;t<r.length;++t){var n=/\{anonymous\}\(.*\)@(.*)/,e=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,o=r[t],c=n.exec(o);if(c){var s=e.exec(c[1]);if(s){var a=s[1],i=s[2],u=s[3]||0;if(a&&this.isSameDomain(a)&&i){var f=this.guessAnonymousFunction(a,i,u);r[t]=o.replace("{anonymous}",f)}}}}return r},guessAnonymousFunction:function(r,t,n){var e;try{e=this.findFunctionName(this.getSource(r),t)}catch(t){e="getSource failed with url: "+r+", exception: "+t.toString()}return e},findFunctionName:function(r,t){for(var n,e,o,c=/function\s+([^(]*?)\s*\(([^)]*)\)/,s=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,a=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,i="",u=Math.min(t,20),f=0;f<u;++f)if(n=r[t-f-1],o=n.indexOf("//"),o>=0&&(n=n.substr(0,o)),n){if(i=n+i,e=s.exec(i),e&&e[1])return e[1];if(e=c.exec(i),e&&e[1])return e[1];if(e=a.exec(i),e&&e[1])return e[1]}return"(?)"}},r})}])});
//# sourceMappingURL=js_error_logger.min.js.map